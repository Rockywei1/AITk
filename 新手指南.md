# AITk 新手指南

> **AITk (AI Toolkit)** - 让 AI 辅助编程更高效的桌面工具

---

## 📖 什么是 AITk？

AITk 是一款 Windows 桌面应用程序，专为**提升 AI 辅助编程体验**而设计。它不是一个 AI，而是一个**工具生成器**——帮助你快速生成结构化的 Prompt，让任何 AI（无论是 IDE 插件还是网页聊天）都能更准确地理解你的代码和需求。

### 核心理念

```
你的代码 → AITk 生成结构化 Prompt → 复制到 AI → AI 给出精准回答
```

---

## 🎯 五大功能模块

| 模块 | 功能 | 适用场景 |
|------|------|----------|
| **Dashboard** | 总览面板 | 快速了解项目状态 |
| **Task Runner** | 命令执行器 | 死磕模式自动重试 |
| **Smart Review** | Git 变更审查 | 提交前代码审查 |
| **Code Polisher** | 代码优化助手 | 简化复杂代码 |
| **PR Review** | 综合审查工具 | 多维度代码分析 |

---

## 🚀 模块详细使用指南

### 1. Task Runner (命令执行器)

#### 功能说明

执行终端命令，支持**自动重试循环**（"死磕模式"），特别适合：

- 修复编译错误
- 运行测试直到通过
- 执行 lint/格式化

#### 使用步骤

1. **输入命令**：在文本框中输入你要执行的命令

   ```
   dotnet build
   ```

2. **单次执行**：点击 `▶ Run Once` 执行一次

3. **死磕模式**：
   - 设置最大重试次数（默认 5 次）
   - 设置重试间隔（默认 2 秒）
   - 点击 `🔄 Start Loop`
   - 命令会自动重复执行直到成功或达到最大次数

4. **复制输出**：点击 `📋 Copy` 将执行结果复制到剪贴板

#### 配合 AI 使用

```
场景：编译错误无法解决

1. 在 Task Runner 中执行 `dotnet build`
2. 看到错误后点击 `📋 Copy`
3. 粘贴到 AI 聊天窗口
4. AI 会收到格式化的错误信息，包括命令、输出、状态
```

---

### 2. Smart Review (智能审查)

#### 功能说明

扫描 Git 仓库中的**未提交变更**，生成 AI 可读的审查包。

#### 使用步骤

1. **选择目录**：点击 `📂 Browse` 选择项目文件夹

2. **扫描变更**：点击 `🔄 Scan` 检测 Git 变更

3. **查看文件列表**：左侧显示所有变更文件
   - ✅ 勾选要包含在审查中的文件
   - 点击文件可预览 Diff

4. **生成审查包**：点击 `📋 Generate`
   - 自动复制到剪贴板
   - 包含分支信息、文件列表、代码差异

#### 配合 AI 使用

```
场景：提交代码前请 AI 审查

1. 完成代码修改后打开 Smart Review
2. 选择项目目录 → 扫描
3. 勾选要审查的文件
4. 点击 Generate
5. 粘贴到 AI，说："请审查这些代码变更"
```

**适用 AI 工具**：

- Cursor：直接在聊天中粘贴
- Antigravity：粘贴到对话框
- ChatGPT/Claude 网页版：粘贴到输入框

---

### 3. Code Polisher (代码优化器)

#### 功能说明

针对单个代码文件生成**简化/优化 Prompt**。

#### 使用步骤

1. **选择文件**：点击 `📂 Browse` 选择要优化的代码文件

2. **设置优化目标**（可多选）：
   - ☑️ Remove dead code - 移除死代码
   - ☑️ Simplify conditionals - 简化条件语句
   - ☑️ Extract methods - 提取长方法
   - ☐ Improve naming - 改进命名
   - ☐ Add comments - 添加注释

3. **设置行数限制**：目标最大行数（默认 300）

4. **生成 Prompt**：点击 `✨ Generate`

5. **复制使用**：点击 `📋 Copy Prompt`

#### 配合 AI 使用

```
场景：代码太复杂想简化

1. 打开 Code Polisher
2. 选择复杂的源文件
3. 勾选 "Simplify conditionals" 和 "Extract methods"
4. 生成 Prompt
5. 粘贴到 AI，AI 会给出简化后的代码
```

---

### 4. PR Review (综合审查工具)

#### 功能说明

最强大的审查工具，支持**多个 AI Agent 视角**进行代码分析。

#### 使用步骤

1. **选择项目**：点击 `📂 Browse` 选择项目目录

2. **选择扫描模式**：
   - 🔀 **Git Changes Only**：仅审查未提交变更
   - 📁 **Scan All Files**：扫描全部代码文件（最多 100 个）

3. **点击扫描**：`🔎 Scan Changes`

4. **选择审查维度**（可多选）：

   | 维度 | 说明 |
   |------|------|
   | 📖 Code Review | 常规代码审查 |
   | 🧪 Test Coverage | 测试覆盖分析 |
   | ⚠️ Error Handling | 错误处理检查 |
   | 💬 Comments | 注释质量分析 |
   | 📐 Type Design | 类型设计分析 |
   | ✨ Simplify | 代码简化建议 |

5. **生成**：点击 `📋 Generate & Copy`

#### 配合 AI 使用

```
场景：全面审查即将合并的 PR

1. 打开 PR Review
2. 选择项目目录
3. 使用 Git Changes 模式扫描
4. 勾选所有审查维度
5. 生成后粘贴到 AI
6. AI 会从多个角度分析代码
```

---

## 🤝 与各种 AI 工具配合

### Cursor / Antigravity (AI IDE)

```
1. 在 AITk 中生成 Prompt
2. 打开 AI 聊天面板 (Cmd+L / Ctrl+L)
3. 粘贴 Prompt
4. AI 会理解代码上下文并给出建议
5. 直接在 IDE 中应用 AI 的代码修改
```

**优势**：AI 的响应可以直接作为代码编辑应用

### VSCode + GitHub Copilot Chat

```
1. 在 AITk 中生成 Prompt
2. 打开 Copilot Chat (Ctrl+Shift+I)
3. 粘贴 Prompt
4. Copilot 分析并给出建议
```

### 网页 AI (ChatGPT / Claude / Gemini)

```
1. 在 AITk 中生成 Prompt
2. 打开浏览器中的 AI 聊天
3. 直接粘贴整个 Prompt
4. AI 会解析结构化内容并给出详细分析
```

**提示**：网页 AI 通常支持更长的上下文，适合大型审查

---

## 💡 使用技巧

### 1. 项目规范自动加载

AITk 会自动查找并加载项目根目录的：

- `CLAUDE.md`
- `SKILL.md`
- `README.md`

这些内容会被包含在生成的 Prompt 中，让 AI 了解项目规范。

### 2. Skills 系统

AITk 内置了专业的 AI Agent 指令（位于 `Skills/` 文件夹）：

- `code-reviewer.md` - 代码审查专家
- `code-simplifier.md` - 代码简化专家
- `silent-failure-hunter.md` - 静默失败猎手
- `pr-test-analyzer.md` - 测试覆盖分析师

这些指令会自动注入到生成的 Prompt 中。

### 3. 输出格式

AITk 生成的 Prompt 是**结构化 Markdown**，包含：

- 清晰的标题和分节
- 代码块带语法高亮
- Diff 格式的变更展示

这种格式让 AI 更容易理解和处理。

---

## ⚠️ 常见问题

### Q: 为什么扫描不到变更？

**A**: 确保目录是一个 Git 仓库，且有未提交的变更。

### Q: Prompt 太长怎么办？

**A**:

- 减少选中的文件数量
- 使用 Code Polisher 单文件分析
- 部分 AI 支持长文本（如 Claude）

### Q: 支持哪些编程语言？

**A**: 支持 30+ 种语言的语法高亮，包括 C#、Python、JavaScript、TypeScript、Java、Go、Rust 等。

---

## 🎓 快速上手流程

```
新用户推荐学习路径：

1. Task Runner → 体验命令执行和输出复制
2. Smart Review → 尝试扫描 Git 变更
3. Code Polisher → 选择一个复杂文件生成优化 Prompt
4. PR Review → 进行完整的多维度审查
```

---

**Happy Coding with AI! 🚀**
